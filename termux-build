#!/usr/bin/env bash
set -e

ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
COMMAND="${1:-}"
BASE_DIR="$ROOT/tools"

case "$COMMAND" in
    create|-c|-C)
        shift
        exec "$ROOT/tools/termux-build-create.sh" "$@"
        ;;

    lint|-l|-L)
        shift
        exec "$BASE_DIR/tools/termux-build-lint.sh" "$@"
        ;;

    check-pr|-cpr|-pr)
        exec "$BASE_DIR/tools/termux-build-check-pr.sh" "$@"
        ;;

    doctor|-d|-D)
        exec "$BASE_DIR/tools/termux-build-doctor.sh"
        ;;

    suggest|-s|-S)
        shift
        exec "$BASE_DIR/tools/termux-build-suggest.sh" "$@"
        ;;

    explain|-e|-E|-ex)
        shift
        exec "$BASE_DIR/tools/termux-build-explain.sh" "$@"
        ;;

    template|-t|-T)
        exec "$BASE_DIR/tools/termux-build-template.sh"
        ;;

    guide|-g|-G)
        exec "$BASE_DIR/tools/termux-build-guide.sh"
        ;;

    *)
        echo "Usage:"
        echo "  ./termux-build create <package>"
        echo "  ./termux-build lint <path | package-name>"
        echo "  ./termux-build check-pr <package>"
        echo "  ./termux-build doctor"
        echo "  ./termux-build suggest <package>"
        echo "  ./termux-build explain <package>"
        echo "  ./termux-build template"
        echo "  ./termux-build guide"
        exit 1
        ;;
esac
